<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />
    <title>NonProfit Finance - Financial Management</title>
    
    <!-- Critical: Apply theme BEFORE any content renders to prevent flash -->
    <script>
        (function() {
            try {
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'dark') {
                    document.documentElement.setAttribute('data-theme', 'dark');
                }
            } catch (e) {
                // localStorage not available
            }
        })();
    </script>
    
    <link rel="stylesheet" href="css/site.css" />
    <link rel="stylesheet" href="css/dark-mode.css" />
    <link rel="stylesheet" href="css/theme-fix.css" />
    <link rel="stylesheet" href="css/help.css" />
    <link rel="stylesheet" href="css/spellcheck.css" />
    <link rel="stylesheet" href="css/cash-flow-widget.css" />
    <link rel="stylesheet" href="css/global-search.css" />
    <link rel="stylesheet" href="css/searchable-select.css" />
    <link rel="stylesheet" href="css/accessibility.css" />
    <link rel="stylesheet" href="css/mobile.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <HeadOutlet @rendermode="InteractiveServer" />
</head>

<body>
    <a href="#main-content" class="skip-to-content">Skip to main content</a>
    <Routes @rendermode="InteractiveServer" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="_framework/blazor.web.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/keyboard.js"></script>
    <script src="js/spellcheck.js"></script>
    <script src="js/tts.js"></script>
    <script src="js/accessibility.js"></script>
    <script src="js/modal-focus.js"></script>
    <script src="js/form-protection.js"></script>
</body>

</html>
